# Cyclocross Lap Time Converter - 今後の機能予定

このドキュメントは、今後実装予定の機能をまとめています。

実装済みの機能については [README.md](../README.md) を、技術的な詳細については [CLAUDE.md](../CLAUDE.md) をご覧ください。

## 実装予定機能

### CSVエクスポート機能 💾

**優先度**: 中
**実装状況**: 未実装

**機能概要**:
- 変換後のネットラップタイムをCSV形式でダウンロード
- エクスポートボタンをテーブルの上部に配置
- ファイル名に日付とレース名を含める（例：`20251109_ME2_laptimes.csv`）
- 元の経過時間も含めるオプション（任意）

**技術仕様**:
- JavaScript で CSV データを生成
- `Blob` と `URL.createObjectURL()` でダウンロードリンクを作成
- CSVフォーマット: 順位, 選手名, 1周, 2周, 3周, ...

**実装ファイル**:
- `content.js` (修正): CSV生成とダウンロードロジック
- `styles.css` (修正): エクスポートボタンのスタイル

**予想されるバージョン**: v1.4.0

---

### より高度なラップ比較機能 🔍

**優先度**: 低
**実装状況**: 未実装（グラフ機能で部分的に実現済み）

**機能概要**:
- 2人以上の選手を選択して、ラップごとのタイム差を詳細に表示
- 「どの周で差がついたか」を視覚的に表示
- 差分をヒートマップで表現（オプション）

**現状**:
グラフ機能（v1.3.0）で複数選手の選択と折れ線グラフでの比較が可能です。この機能は、さらに詳細な数値比較を提供するものです。

**技術仕様**:
- 選択された選手のラップタイムを配列で保持
- 各ラップでの差分を計算（選手A - 選手B）
- 差分を色分け表示（プラス=赤、マイナス=青）
- テーブル形式またはポップアップで表示

**実装ファイル**:
- `content.js` (修正): 比較ロジック
- `compare.js` (新規作成、任意): 比較UI管理
- `styles.css` (修正): 比較UI用スタイル

**予想されるバージョン**: v2.0.0

---

## その他の改善案

以下は、ユーザーからのフィードバックや使用状況に応じて検討する機能です:

- **タイムゾーン対応**: 異なる地域での利用に対応
- **多言語対応**: 英語UIの追加
- **カスタムテーマ**: ユーザーが色やスタイルをカスタマイズ可能に
- **キーボードショートカット**: グラフ表示などの操作をキーボードで実行
- **通知機能**: 新しいリザルトが公開された際の通知

## フィードバック

機能要望や改善提案は GitHub Issues でお願いします:
https://github.com/gentksb/ajocc-tools/issues

---

**最終更新日**: 2025-01-19
